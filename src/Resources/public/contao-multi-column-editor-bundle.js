!function(t){function e(e){for(var n,r,i=e[0],a=e[1],l=0,c=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&c.push(o[r][0]),o[r]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n]);for(u&&u(e);c.length;)c.shift()()}var n={},o={"contao-multi-column-editor-bundle":0};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/bundles/heimrichhannotcontaomulticolumneditor/",r.oe=function(t){throw console.error(t),t};var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var u=a;r(r.s="QZ0r")}({LyRo:function(module,__webpack_exports__,__webpack_require__){"use strict";var formdata_polyfill__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("hRLk"),formdata_polyfill__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(formdata_polyfill__WEBPACK_IMPORTED_MODULE_0__);function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var MultiColumnEditorBundle=function(){function MultiColumnEditorBundle(){_classCallCheck(this,MultiColumnEditorBundle)}return _createClass(MultiColumnEditorBundle,null,[{key:"init",value:function(){var t=document.querySelectorAll(".multi-column-editor");if(!(t.length<1)){var e="backend"===t[0].dataset.env;utilsBundle.event.addDynamicEventListener("click",".multi-column-editor .add",(function(t,n){n.preventDefault(),MultiColumnEditorBundle.triggerAction(e,t,"addRow",t.href)})),utilsBundle.event.addDynamicEventListener("click",".multi-column-editor .delete",(function(t,n){n.preventDefault(),MultiColumnEditorBundle.triggerAction(e,t,"deleteRow",t.href)})),utilsBundle.event.addDynamicEventListener("click",".multi-column-editor .drag-handle",(function(t,e){e.preventDefault()})),utilsBundle.event.addDynamicEventListener("click","[data-mce-click]",(function(t,n){MultiColumnEditorBundle.triggerAction(e,t,"updateRows",t.getAttribute("data-mce-click"))})),utilsBundle.event.addDynamicEventListener("change","[data-mce-change]",(function(t,n){MultiColumnEditorBundle.triggerAction(e,t,"updateRows",t.getAttribute("data-mce-change"))})),MultiColumnEditorBundle.initSortable(e)}}},{key:"initSortable",value:function(t){t?new Sortables(".multi-column-editor-wrapper .sortable",{constrain:!0,opacity:.6,handle:".drag-handle",onComplete:function(e){for(var n=[],o=!1,r=e.closest(".rows").querySelectorAll(".mce-row"),i=0;i<r.length;i++)n.push(r[i].dataset.index),r[i].dataset.index!==[].slice.call(r).indexOf(this)+1&&(o=!0);var a=[{name:"newIndices",value:n.join(",")}];o&&MultiColumnEditorBundle.triggerAction(t,e.querySelector(".drag-handle"),"sortRows",null,a)}}):Promise.resolve().then(__webpack_require__.t.bind(null,"o1Lx",7)).then((function(e){var n=document.querySelectorAll(".multi-column-editor-wrapper .sortable");n.forEach((function(o){e.create(o,{handle:".drag-handle",onEnd:function(e){for(var r=[],i=!1,a=e.item.closest(".rows").querySelectorAll(".mce-row"),l=0;l<a.length;l++)r.push(a[l].dataset.index),a[l].dataset.index!==Array.prototype.indexOf.call(n,o)+1&&(i=!0);var u=[{name:"newIndices",value:r.join(",")}];i&&MultiColumnEditorBundle.triggerAction(t,e.item.querySelector(".drag-handle"),"sortRows",null,u)}})}))}))}},{key:"triggerAction",value:function triggerAction(isBackend,link,action,url,additionalFormData,callback){var form=link.closest("form"),formData=new FormData,editor=link.closest(".multi-column-editor");null===url&&(url=form.action),editor.querySelectorAll(".mce-tinymce + textarea").forEach((function(t){void 0!==window.tinymce&&(t.value=tinymce.get(t.getAttribute("id")).getContent())})),form.querySelectorAll("input[name]:not([disabled]), textarea[name]:not([disabled]), select[name]:not([disabled]), button[name]:not([disabled])").forEach((function(t){if("FORM_SUBMIT"!==t.name)switch(t.type){case"checkbox":case"radio":formData.append(t.name,t.checked?t.value:"");break;default:formData.append(t.name,t.value)}}));var row=link.closest(".mce-row");formData.set("row",null!=row?row.dataset.index:0),formData.set("field",editor.dataset.field),formData.set("table",editor.dataset.table),formData.set("action",action),void 0!==additionalFormData&&additionalFormData.forEach((function(t){if("FORM_SUBMIT"!==t.name)switch(t.type){case"checkbox":case"radio":formData.append(t.name,t.checked?t.value:"");break;default:formData.append(t.name,t.value)}}));var xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(4===xhr.readyState){var customEvent=document.createEvent("CustomEvent"),widget;if(customEvent.initEvent("ajaxSuccess",!0,!0),document.dispatchEvent(customEvent),200===xhr.status)if(editor.querySelectorAll(".mce-tinymce + textarea").forEach((function(t){void 0!==window.tinymce&&tinymce.get(t.getAttribute("id")).remove()})),isBackend){var response=document.createElement("div");response.innerHTML=xhr.responseText;var scriptElements=response.getElementsByTagName("script"),scriptHtml=[];widget=link.closest(".widget");for(var m=0;m<scriptElements.length;m++)scriptHtml.push(scriptElements[m].innerHTML);link.closest(".multi-column-editor-wrapper").replaceWith(response.querySelector(".multi-column-editor-wrapper")),MultiColumnEditorBundle.initChosen(widget),MultiColumnEditorBundle.initSortable(isBackend),MultiColumnEditorBundle.hideTooltip(),setTimeout((function(){MultiColumnEditorBundle.hideTooltip()}),1e3),MultiColumnEditorBundle.initTooltip(widget);for(var n=0;n<scriptHtml.length;n++)eval(scriptHtml[n]);"function"==typeof callback&&callback.apply(this,Array.prototype.slice.call(arguments,1));var e=document.createEvent("CustomEvent");e.initEvent("ajaxComplete",!0,!0),document.dispatchEvent(e)}else{var data=JSON.parse(xhr.responseText),_response=document.createElement("div");_response.innerHTML=data.result.html,link.closest(".multi-column-editor-wrapper").replaceWith(_response.querySelector(".multi-column-editor-wrapper")),MultiColumnEditorBundle.initSortable(isBackend),"function"==typeof callback&&callback.apply(this,Array.prototype.slice.call(arguments,1)),customEvent=document.createEvent("CustomEvent"),customEvent.initEvent("ajaxComplete",!0,!0),document.dispatchEvent(customEvent)}}},xhr.open("POST",url),xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhr.send(formData)}}]),MultiColumnEditorBundle}();document.addEventListener("DOMContentLoaded",MultiColumnEditorBundle.init),"function"==typeof window.addEvent&&(window.addEvent("domready",(function(){MultiColumnEditorBundle.initChosen=function(t){t.querySelectorAll("select.tl_chosen").forEach((function(t){$$("#"+t.getAttribute("id")).chosen()}))},MultiColumnEditorBundle.hideTooltip=function(){document.querySelectorAll(".tip-wrap").forEach((function(t){t.setStyle("display","none")}))},MultiColumnEditorBundle.initTooltip=function(t){t.querySelectorAll("a[title]").forEach((function(t){new Tips.Contao($$(t).filter((function(t){return""!=t.title})),{offset:{x:0,y:30}})}))}})),window.addEvent("ajax_change",(function(){MultiColumnEditorBundle.init()})))},QZ0r:function(t,e,n){"use strict";n.r(e);n("LyRo")},hRLk:function(t,e,n){(function(t){!function(){var e;function n(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var o="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var r,i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t];for(var n=0;n<e.length;++n){var o=e[n];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")}(this);function a(t,e){if(e){for(var n=i,r=t.split("."),a=0;a<r.length-1;a++){var l=r[a];l in n||(n[l]={}),n=n[l]}(l=e(a=n[r=r[r.length-1]]))!=a&&null!=l&&o(n,r,{configurable:!0,writable:!0,value:l})}}function l(t){return(t={next:t})[Symbol.iterator]=function(){return this},t}function u(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:n(t)}}if(a("Symbol",(function(t){function e(t,e){this.o=t,o(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.o};var n=0;return function t(o){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e("jscomp_symbol_"+(o||"")+"_"+n++,o)}})),a("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<e.length;r++){var a=i[e[r]];"function"==typeof a&&"function"!=typeof a.prototype[t]&&o(a.prototype,t,{configurable:!0,writable:!0,value:function(){return l(n(this))}})}return t})),"function"==typeof Object.setPrototypeOf)r=Object.setPrototypeOf;else{var c;t:{var s={};try{s.__proto__={u:!0},c=s.u;break t}catch(t){}c=!1}r=c?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var d=r;function f(){this.h=!1,this.f=null,this.m=void 0,this.b=1,this.l=this.v=0,this.g=null}function p(t){if(t.h)throw new TypeError("Generator is already running");t.h=!0}function h(t,e){return t.b=3,{value:e}}function m(t){this.a=new f,this.B=t}function v(t,e,n,o){try{var r=e.call(t.a.f,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return t.a.h=!1,r;var i=r.value}catch(e){return t.a.f=null,t.a.j(e),y(t)}return t.a.f=null,o.call(t.a,i),y(t)}function y(t){for(;t.a.b;)try{var e=t.B(t.a);if(e)return t.a.h=!1,{value:e.value,done:!1}}catch(e){t.a.m=void 0,t.a.j(e)}if(t.a.h=!1,t.a.g){if(e=t.a.g,t.a.g=null,e.A)throw e.w;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function b(t){this.next=function(e){return t.i(e)},this.throw=function(e){return t.j(e)},this.return=function(e){return function(t,e){p(t.a);var n=t.a.f;return n?v(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.a.return):(t.a.return(e),y(t))}(t,e)},this[Symbol.iterator]=function(){return this}}function w(t,e){var n=new b(new m(e));return d&&d(n,t.prototype),n}if(f.prototype.i=function(t){this.m=t},f.prototype.j=function(t){this.g={w:t,A:!0},this.b=this.v||this.l},f.prototype.return=function(t){this.g={return:t},this.b=this.l},m.prototype.i=function(t){return p(this.a),this.a.f?v(this,this.a.f.next,t,this.a.i):(this.a.i(t),y(this))},m.prototype.j=function(t){return p(this.a),this.a.f?v(this,this.a.f.throw,t,this.a.i):(this.a.j(t),y(this))},"undefined"!=typeof Blob&&("undefined"==typeof FormData||!FormData.prototype.keys)){var g=function(t,e){for(var n=0;n<t.length;n++)e(t[n])},_=function(t,e,n){return e instanceof Blob?[String(t),e,void 0!==n?n+"":"string"==typeof e.name?e.name:"blob"]:[String(t),String(e)]},E=function(t,e){if(t.length<e)throw new TypeError(e+" argument required, but only "+t.length+" present.")},x=function(t){var e=u(t);t=e.next().value;var n=e.next().value;return e=e.next().value,n instanceof Blob&&(n=new File([n],e,{type:n.type,lastModified:n.lastModified})),[t,n]},S="object"==typeof globalThis?globalThis:"object"==typeof window?window:"object"==typeof self?self:this,M=S.FormData,B=S.XMLHttpRequest&&S.XMLHttpRequest.prototype.send,C=S.Request&&S.fetch,k=S.navigator&&S.navigator.sendBeacon,j=S.Element&&S.Element.prototype,A=S.Symbol&&Symbol.toStringTag;A&&(Blob.prototype[A]||(Blob.prototype[A]="Blob"),"File"in S&&!File.prototype[A]&&(File.prototype[A]="File"));try{new File([],"")}catch(t){S.File=function(t,e,n){return t=new Blob(t,n),n=n&&void 0!==n.lastModified?new Date(n.lastModified):new Date,Object.defineProperties(t,{name:{value:e},lastModifiedDate:{value:n},lastModified:{value:+n},toString:{value:function(){return"[object File]"}}}),A&&Object.defineProperty(t,A,{value:"File"}),t}}var D=function(t){this.c=[];var e=this;t&&g(t.elements,(function(t){if(t.name&&!t.disabled&&"submit"!==t.type&&"button"!==t.type&&!t.matches("form fieldset[disabled] *"))if("file"===t.type){var n=t.files&&t.files.length?t.files:[new File([],"",{type:"application/octet-stream"})];g(n,(function(n){e.append(t.name,n)}))}else"select-multiple"===t.type||"select-one"===t.type?g(t.options,(function(n){!n.disabled&&n.selected&&e.append(t.name,n.value)})):"checkbox"===t.type||"radio"===t.type?t.checked&&e.append(t.name,t.value):(n="textarea"===t.type?t.value.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n"):t.value,e.append(t.name,n))}))};if((e=D.prototype).append=function(t,e,n){E(arguments,2),this.c.push(_(t,e,n))},e.delete=function(t){E(arguments,1);var e=[];t=String(t),g(this.c,(function(n){n[0]!==t&&e.push(n)})),this.c=e},e.entries=function t(){var e,n=this;return w(t,(function(t){if(1==t.b&&(e=0),3!=t.b)return e<n.c.length?t=h(t,x(n.c[e])):(t.b=0,t=void 0),t;e++,t.b=2}))},e.forEach=function(t,e){E(arguments,1);for(var n=u(this),o=n.next();!o.done;o=n.next()){var r=u(o.value);o=r.next().value,r=r.next().value,t.call(e,r,o,this)}},e.get=function(t){E(arguments,1);var e=this.c;t=String(t);for(var n=0;n<e.length;n++)if(e[n][0]===t)return x(e[n])[1];return null},e.getAll=function(t){E(arguments,1);var e=[];return t=String(t),g(this.c,(function(n){n[0]===t&&e.push(x(n)[1])})),e},e.has=function(t){E(arguments,1),t=String(t);for(var e=0;e<this.c.length;e++)if(this.c[e][0]===t)return!0;return!1},e.keys=function t(){var e,n,o,r,i=this;return w(t,(function(t){if(1==t.b&&(e=u(i),n=e.next()),3!=t.b)return n.done?void(t.b=0):(o=n.value,r=u(o),h(t,r.next().value));n=e.next(),t.b=2}))},e.set=function(t,e,n){E(arguments,2),t=String(t);var o=[],r=_(t,e,n),i=!0;g(this.c,(function(e){e[0]===t?i&&(i=!o.push(r)):o.push(e)})),i&&o.push(r),this.c=o},e.values=function t(){var e,n,o,r,i=this;return w(t,(function(t){if(1==t.b&&(e=u(i),n=e.next()),3!=t.b)return n.done?void(t.b=0):(o=n.value,(r=u(o)).next(),h(t,r.next().value));n=e.next(),t.b=2}))},D.prototype._asNative=function(){for(var t=new M,e=u(this),n=e.next();!n.done;n=e.next()){var o=u(n.value);n=o.next().value,o=o.next().value,t.append(n,o)}return t},D.prototype._blob=function(){for(var t="----formdata-polyfill-"+Math.random(),e=[],n=u(this),o=n.next();!o.done;o=n.next()){var r=u(o.value);o=r.next().value,r=r.next().value,e.push("--"+t+"\r\n"),r instanceof Blob?e.push('Content-Disposition: form-data; name="'+o+'"; filename="'+r.name+'"\r\nContent-Type: '+(r.type||"application/octet-stream")+"\r\n\r\n",r,"\r\n"):e.push('Content-Disposition: form-data; name="'+o+'"\r\n\r\n'+r+"\r\n")}return e.push("--"+t+"--"),new Blob(e,{type:"multipart/form-data; boundary="+t})},D.prototype[Symbol.iterator]=function(){return this.entries()},D.prototype.toString=function(){return"[object FormData]"},j&&!j.matches&&(j.matches=j.matchesSelector||j.mozMatchesSelector||j.msMatchesSelector||j.oMatchesSelector||j.webkitMatchesSelector||function(t){for(var e=(t=(this.document||this.ownerDocument).querySelectorAll(t)).length;0<=--e&&t.item(e)!==this;);return-1<e}),A&&(D.prototype[A]="FormData"),B){var O=S.XMLHttpRequest.prototype.setRequestHeader;S.XMLHttpRequest.prototype.setRequestHeader=function(t,e){O.call(this,t,e),"content-type"===t.toLowerCase()&&(this.s=!0)},S.XMLHttpRequest.prototype.send=function(t){t instanceof D?(t=t._blob(),this.s||this.setRequestHeader("Content-Type",t.type),B.call(this,t)):B.call(this,t)}}C&&(S.fetch=function(t,e){return e&&e.body&&e.body instanceof D&&(e.body=e.body._blob()),C.call(this,t,e)}),k&&(S.navigator.sendBeacon=function(t,e){return e instanceof D&&(e=e._asNative()),k.call(this,t,e)}),S.FormData=D}}()}).call(this,n("yLpj"))},o1Lx:function(t,e){t.exports=Sortable},yLpj:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n}});